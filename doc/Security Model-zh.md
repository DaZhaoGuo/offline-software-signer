
# 安全模型

本项目实现了**基于软件的隔离离线签名架构**。
该架构通过将**交易构建（在线）**与**交易签名（离线）**分离，降低私钥的攻击面。

> **重要**：本系统不声称具备硬件级安全性。

---

## 安全假设

本系统的安全性依赖以下假设：

### 1. Signer 设备完整性

- 操作系统未被破坏（无 root / jailbreak）。
- 应用程序二进制文件未被篡改。
- 没有恶意的运行时注入或调试。

### 2. 网络隔离

- Signer 应用不包含任何网络相关代码或权限（如 Internet 权限、网络库）。
- Signer 可安装在**联网设备**上，但在应用层保持**逻辑隔离**。
- 交易请求仅通过**受控数据交换通道**传递给 Signer，包括：
    - 同设备上的本地进程通信（IPC）或系统调用启动。
    - 跨设备时使用**离线通道**（QR 码或蓝牙）。
- Signer **在整个生命周期中都不会主动或被动发起网络连接**（前台、后台或签名过程中），因为其不包含网络代码且未请求网络权限。
- 用户需确保没有未授权的系统级组件拦截、注入或篡改 IPC、蓝牙或相机数据传输。

### 3. 用户验证

- 用户应仔细验证在 **Signer UI** 上显示的交易详情。
- 用户不应盲目批准签名请求。

### 4. 私钥解密密码保密性

- 用于在 Signer 中**解密和解锁私钥**的密码必须保持机密。
- 该密码仅用于**私钥保护和签名授权**，而非支付确认。
- 不应在其他应用或服务中重复使用此密码。

---

## 安全保证

在以上假设下，该架构提供：

- 私钥永不暴露给在线应用。
- 在线 dApp 被攻破也无法直接窃取私钥。
- 每笔交易都需要在隔离的 Signer 中明确的用户授权。
- 私钥明文仅在签名时短暂存在内存中。

---

## 安全限制

本系统**无法防护**：

### 1. 离线环境被攻破

- Root 或 jailbreak 设备。
- 恶意操作系统、固件或引导程序。
- 运行时内存检查或代码注入。

### 2. 供应链攻击

- 恶意应用更新。
- 构建或分发流程被破坏。

### 3. 高级物理攻击

- 通过调试接口内存转储。
- 冷启动攻击。

### 4. 用户疏忽

- 批准恶意或误导性交易。
- 弱密码或重复使用密码。

---

## 硬件钱包威胁模型

本系统不提供：

- 安全元件（SE）
- 可信执行环境（TEE）
- 防篡改硬件

不应被视为等同于硬件钱包。

---

## 推荐使用场景

该架构适用于：

- 中等价值资金的风险降低。
- 可控企业签名工作流程。
- 开发者工具和测试环境。
- 离线签名的教育演示。


对于**高价值资产保护**，强烈建议使用**认证硬件钱包**。

